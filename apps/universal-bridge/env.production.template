# ==================== Universal Bridge Production Environment ====================
# Go-Live 체크리스트 기반 프로덕션 환경변수 템플릿

NODE_ENV=production
PORT=8080

# ==================== JWT & Security ====================
# JWT 토큰 서명용 시크릿 키 (32자 이상 권장)
JWT_SECRET=your-super-secure-jwt-secret-key-change-in-production
TOKEN_EXPIRES_IN=24h

# ==================== MQTT Configuration ====================
# MQTT 브로커 설정 (TCP 또는 WebSocket)
# TCP: mqtt://host:1883 (Railway/Fly.io/VM용)
# WebSocket: wss://host:8083/mqtt (Vercel용)
MQTT_URL=wss://mqtt.example.com/mqtt
MQTT_USERNAME=bridge
MQTT_PASSWORD=your-mqtt-password
MQTT_PORT=1883

# Universal Bridge 내장 MQTT 브로커 포트
BRIDGE_MQTT_PORT=1883

# ==================== Supabase Configuration ====================
# 데이터베이스 및 인증
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ==================== Bridge Configuration ====================
# HTTP 서버 포트
BRIDGE_HTTP_PORT=8080

# 멀티테넌트 고정값 (모든 요청에 사용)
BRIDGE_TENANT_ID=00000000-0000-0000-0000-000000000001

# Legacy MQTT 지원 (기존 MQTT Bridge 호환성)
LEGACY_MQTT_SUPPORT=true

# Legacy MQTT 암호화 키 (기존 MQTT Bridge와 동일해야 함)
ENCRYPTION_KEY=your-32-character-secret-key-here

# ==================== Logging & Monitoring ====================
# 로그 레벨 (production에서는 info 권장)
LOG_LEVEL=info

# CORS 설정 (프로덕션 도메인)
CORS_ORIGIN=https://your-admin.app

# ==================== Optional: External Services ====================
# Redis (캐싱 및 세션 저장용)
# REDIS_URL=redis://localhost:6379

# OpenWeather API (날씨 데이터용)
# OPENWEATHER_API_KEY=your-openweather-api-key

# Telegram Bot (알림용)
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_CHAT_ID=your-telegram-chat-id

# ==================== Deployment Specific ====================
# Railway/Fly.io/VM용 (TCP MQTT)
# MQTT_URL=mqtt://mqtt-broker:1883

# Vercel용 (WebSocket MQTT)
# MQTT_URL=wss://mqtt-broker:8083/mqtt

# ==================== Health Check ====================
# 헬스체크 타임아웃 (초)
HEALTH_CHECK_TIMEOUT=30

# ==================== Rate Limiting ====================
# 디바이스당 요청 제한 (분당)
RATE_LIMIT_DEVICE=60
# 테넌트당 요청 제한 (분당)
RATE_LIMIT_TENANT=1000

# ==================== Security Headers ====================
# HTTPS 강제 (프로덕션에서 true)
FORCE_HTTPS=true

# 보안 헤더 활성화
SECURITY_HEADERS=true
