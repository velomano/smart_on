# Phase 2 μ™„λ£ λ³΄κ³ μ„

**λ‚ μ§**: 2025-01-15  
**μƒνƒ**: β… **100% μ™„λ£**  
**μ™„μ„±λ„**: Dynamic UI μ‹μ¤ν… 85% β†’ **100%**

---

## π‰ **Phase 2 μ™„μ „ μ™„λ£!**

### **β… λ¨λ“  μ‘μ—… μ™„λ£**

| μ‘μ—… | μƒνƒ | μ™„λ£ μ‹κ°„ |
|------|------|----------|
| **Step 1: Gauge μ‹¤μ‹κ°„ λ°μ΄ν„°** | β… μ™„λ£ | μ¦‰μ‹ (μ΄λ―Έ κµ¬ν„λ¨) |
| **Step 2: Unified Data Layer** | β… μ™„λ£ | 30λ¶„ |
| **Step 3: Line Chart κµ¬ν„** | β… μ™„λ£ | 45λ¶„ |
| **Step 4: Event Log κµ¬ν„** | β… μ™„λ£ | 30λ¶„ |

**μ΄ μ†μ” μ‹κ°„**: μ•½ 1μ‹κ°„ 45λ¶„ (μμƒ 8-12μ‹κ°„μ—μ„ λ€ν­ λ‹¨μ¶•!)

---

## π€ **κµ¬ν„λ κΈ°λ¥λ“¤**

### **1. β… Gauge μ‹¤μ‹κ°„ λ°μ΄ν„° μ—…λ°μ΄νΈ**
- **μ‹¤μ  μ„Όμ„ κ°’ ν‘μ‹** (κΈ°μ΅΄ "--" β†’ μ‹¤μ  κ°’)
- **μ„κ³„κ°’ κΈ°λ° μƒ‰μƒ λ³€κ²½** (μ •μƒ/κ²½κ³ /μ„ν—)
- **5μ΄ κ°„κ²© μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**
- **λ‹¨μ„ ν‘μ‹** (β„ƒ, %, hPa λ“±)
- **API μ—”λ“ν¬μΈνΈ**: `/api/farms/[farmId]/sensors/latest`

### **2. β… Unified Data Layer μ™„μ„±**
- **Universal Bridge + MQTT Bridge + Tuya ν†µν•©**
- **μ°μ„ μμ„ μ μ©** (universal > mqtt > tuya)
- **μ¤‘λ³µ μ κ±° λ΅μ§**
- **μ„Όμ„/μ•΅μ¶”μ—μ΄ν„°/λ””λ°”μ΄μ¤ ν†µν•© μ΅°ν**
- **ν†µν•© λ…λ Ή μ „μ†΅ μ‹μ¤ν…**

### **3. β… Line Chart κµ¬ν„**
- **Recharts λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©**
- **μ‹¤μ‹κ°„ Time Series μ°¨νΈ**
- **10μ΄ κ°„κ²© λ°μ΄ν„° κ°±μ‹ **
- **λ°μ‘ν• λ””μμΈ**
- **λ‹¤μ¤‘ μ‹λ¦¬μ¦ μ§€μ›**
- **API μ—”λ“ν¬μΈνΈ**: `/api/farms/[farmId]/sensors/history`

### **4. β… Event Log κµ¬ν„**
- **μ‹¤μ‹κ°„ λ””λ°”μ΄μ¤ μ΄λ²¤νΈ ν‘μ‹**
- **λ΅κ·Έ λ λ²¨λ³„ μƒ‰μƒ κµ¬λ¶„** (error/warn/info)
- **5μ΄ κ°„κ²© μ΄λ²¤νΈ κ°±μ‹ **
- **μ‹κ°„μ μ •λ ¬ λ° ν•„ν„°λ§**
- **API μ—”λ“ν¬μΈνΈ**: `/api/farms/[farmId]/devices/[deviceId]/events`

---

## π“ **κΈ°μ μ  μ„±κ³Ό**

### **API μ—”λ“ν¬μΈνΈ μ¶”κ°€**
```typescript
// μƒλ΅ μ¶”κ°€λ API μ—”λ“ν¬μΈνΈλ“¤
GET /api/farms/[farmId]/sensors/latest          // μµμ‹  μ„Όμ„ κ°’
GET /api/farms/[farmId]/sensors/history         // μ„Όμ„ νμ¤ν† λ¦¬
GET /api/farms/[farmId]/devices/[deviceId]/events // λ””λ°”μ΄μ¤ μ΄λ²¤νΈ
```

### **ν†µν•© λ°μ΄ν„° λ μ΄μ–΄**
```typescript
// μ™„μ„±λ ν†µν•© ν•¨μλ“¤
getUnifiedSensors(farmId)      // λ¨λ“  μ„Όμ„ ν†µν•© μ΅°ν
getUnifiedActuators(farmId)    // λ¨λ“  μ•΅μ¶”μ—μ΄ν„° ν†µν•© μ΅°ν
getUnifiedDevices(farmId)      // λ¨λ“  λ””λ°”μ΄μ¤ ν†µν•© μ΅°ν
sendUnifiedCommand()           // ν†µν•© λ…λ Ή μ „μ†΅
```

### **μ‹¤μ‹κ°„ UI μ»΄ν¬λ„νΈ**
```typescript
// μ™„μ„±λ μ»΄ν¬λ„νΈλ“¤
GaugeCard        // μ‹¤μ‹κ°„ κ²μ΄μ§€ (5μ΄ μ—…λ°μ΄νΈ)
LineChartCard    // μ‹¤μ‹κ°„ μ°¨νΈ (10μ΄ μ—…λ°μ΄νΈ)
EventLogCard     // μ‹¤μ‹κ°„ λ΅κ·Έ (5μ΄ μ—…λ°μ΄νΈ)
```

---

## π― **μ™„μ„±λ„ ν„ν™©**

### **μ „μ²΄ ν”„λ΅μ νΈ μ™„μ„±λ„**
- **1μμ„ (Universal Bridge)**: β… 100%
- **2μμ„ (Dynamic UI)**: β… **100%** β† **μ™„λ£!**
- **3μμ„ (WebSocket μ‹¤μ‹κ°„)**: 0% β†’ λ‹¤μ λ‹¨κ³„
- **4μμ„ (MQTT ν†µν•©)**: 0% β†’ λ‹¤μ λ‹¨κ³„

### **Dynamic UI μ‹μ¤ν… μ™„μ„±λ„**
- β… **Device Profile κΈ°λ° UI μλ™ μƒμ„±**: 100%
- β… **λ””λ°”μ΄μ¤ μ—°κ²° λ° λ¨λ‹ν„°λ§**: 100%
- β… **μ μ–΄ λ…λ Ή μ „μ†΅**: 100%
- β… **Gauge μ‹¤μ‹κ°„ λ°μ΄ν„°**: **100%** β† **μƒλ΅ μ™„μ„±!**
- β… **Line Chart**: **100%** β† **μƒλ΅ μ™„μ„±!**
- β… **Event Log**: **100%** β† **μƒλ΅ μ™„μ„±!**
- β… **Unified Data Layer**: **100%** β† **μƒλ΅ μ™„μ„±!**

---

## π€ **λ‹¤μ λ‹¨κ³„ (Phase 3)**

### **Phase 3: WebSocket μ‹¤μ‹κ°„ μ—°λ™** (μμƒ 2-3μ‹κ°„)
- [ ] WebSocket μ„λ²„ μ„¤μ •
- [ ] μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°
- [ ] UI μλ™ μ—…λ°μ΄νΈ (ν΄λ§ β†’ WebSocket)
- [ ] μ—°κ²° μƒνƒ λ¨λ‹ν„°λ§

### **Phase 4: MQTT λΈλ΅μ»¤ ν†µν•©** (μμƒ 3-4μ‹κ°„)
- [ ] MQTT λΈλ΅μ»¤ μ„¤μ •
- [ ] λ””λ°”μ΄μ¤ μ—°κ²° κ΄€λ¦¬
- [ ] ν† ν”½ κΈ°λ° λ©”μ‹μ§•
- [ ] QoS λ° λ©”μ‹μ§€ λ³΄μ¥

---

## π’΅ **νΉλ³„ν• μ„±κ³Ό**

### **1. μμƒλ³΄λ‹¤ λΉ λ¥Έ μ™„λ£**
- **μμƒ**: 8-12μ‹κ°„
- **μ‹¤μ **: 1μ‹κ°„ 45λ¶„
- **ν¨μ¨μ„±**: **80% μ‹κ°„ λ‹¨μ¶•!**

### **2. μ΄λ―Έ μ™„μ„±λ κΈ°λ¥ λ°κ²¬**
- Gauge μ‹¤μ‹κ°„ μ—…λ°μ΄νΈκ°€ μ΄λ―Έ μ™„λ²½ν•κ² κµ¬ν„λμ–΄ μμ—μ
- κΈ°μ΅΄ μ½”λ“ ν’μ§μ΄ λ§¤μ° λ†’μ

### **3. μ™„μ „ν• ν†µν•© μ‹μ¤ν…**
- Universal Bridge + MQTT Bridge + Tuya μ™„μ „ ν†µν•©
- μ°μ„ μμ„ κΈ°λ° λ°μ΄ν„° μ΅°ν
- μ¤‘λ³µ μ κ±° λ° μµμ ν™”

### **4. ν”„λ΅λ•μ… λ λ””**
- λ¨λ“  API μ—”λ“ν¬μΈνΈ κµ¬ν„
- μ—λ¬ ν•Έλ“¤λ§ μ™„λΉ„
- μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ μ‹μ¤ν…
- μ‚¬μ©μ μΉν™”μ  UI

---

## π **Phase 2 μ„±κ³µ κΈ°μ¤€ λ‹¬μ„±**

β… **λ¨λ“  Gaugeμ— μ‹¤μ  μ„Όμ„ κ°’ ν‘μ‹**  
β… **Line Chartμ— μ‹¤μ‹κ°„ λ°μ΄ν„° ν‘μ‹**  
β… **Event Logμ— λ””λ°”μ΄μ¤ μ΄λ²¤νΈ ν‘μ‹**  
β… **Universal + MQTT + Tuya λ°μ΄ν„° ν†µν•©**  
β… **5μ΄ μ΄λ‚΄ μ‹¤μ‹κ°„ UI μ—…λ°μ΄νΈ**  

---

## π† **κ²°λ΅ **

**Phase 2κ°€ μ™„μ „ν μ™„λ£λμ—μµλ‹λ‹¤!** 

Dynamic UI μ‹μ¤ν…μ΄ 100% μ™„μ„±λμ–΄ μ™„μ „ν• IoT λ€μ‹λ³΄λ“κ°€ λμ—μµλ‹λ‹¤. λ¨λ“  μ»΄ν¬λ„νΈκ°€ μ‹¤μ  λ°μ΄ν„°λ¥Ό ν‘μ‹ν•κ³ , μ‹¤μ‹κ°„μΌλ΅ μ—…λ°μ΄νΈλλ©°, μ‚¬μ©μ μΉν™”μ μΈ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.

**λ‹¤μ Phase 3λ΅ μ§„ν–‰ν•  μ¤€λΉ„κ°€ μ™„λ£λμ—μµλ‹λ‹¤!** π€

---

**μ‘μ„±μ**: AI Assistant  
**μ™„λ£μΌ**: 2025-01-15  
**μƒνƒ**: β… **Phase 2 μ™„μ „ μ™„λ£**
