# 🚀 작업 시작 전 체크리스트

> **매번 작업 시작 전에 이 문서를 읽고 현재 상태를 파악하세요!**

## 📋 필수 읽기 문서들

### 1. 작업 기록 확인
- `작업_기록_2025_09_23.md` - 최신 작업 기록 확인
- `smart_farm_build_docs_v_0.md` - 전체 프로젝트 문서
- `Git_연동_가이드.md` - Git 연동 가이드 (내일 작업)

### 2. 현재 상태 파악
- **웹 앱**: ✅ 완전 작동 (http://localhost:8081 또는 8082)
- **Android 앱**: 🔧 빌드 문제 해결 중
- **데이터베이스**: ✅ Supabase 연동 완료
- **기능**: ✅ 모든 핵심 기능 구현 완료

## 🎯 현재 우선순위 작업

### 1순위: Android 빌드 문제 해결
- **문제**: Node.js 경로 설정, Java Runtime 경로 문제
- **해결방법**: 
  - `gradle.properties`에 `NODE_BINARY` 경로 설정 완료
  - Android Studio에서 "Sync Project with Gradle Files" 실행 필요
  - 저장공간 정리 완료

### 2순위: 실제 테스트
- **Tuya 계정**으로 로그인 테스트
- **디바이스 제어** 기능 테스트
- **타이머 설정** 기능 테스트

### 3순위: Git 연동 (내일 작업)
- Git 저장소 초기화 및 설정
- GitHub 저장소 생성 및 연결
- 브랜치 전략 설정
- CI/CD 파이프라인 구축

### 4순위: 기능 강화
- PWA 기능 추가 (오프라인 지원)
- 실시간 데이터 연동 강화
- 알림 시스템 구현

## 📁 주요 파일 위치

### 앱 파일
```
smart-farm-app/mobile-app/
├── App.tsx                    # 메인 앱 컴포넌트
├── screens/
│   ├── BedDetailScreen.tsx    # 베드 상세 화면
│   ├── BedSettingsScreen.tsx  # 다단 베드 설정
│   ├── TeamLoginScreen.tsx    # 팀 로그인
│   ├── BedAuthScreen.tsx      # 베드 인증
│   ├── TimerSettingsScreen.tsx # 타이머 설정
│   └── DeviceSetupScreen.tsx  # 디바이스 설정
└── lib/
    ├── supabase.ts            # Supabase 클라이언트
    ├── tuya.ts                # Tuya SDK 래퍼
    └── teamAuth.ts            # 팀 인증 관리
```

### 데이터베이스 파일
```
smart-farm-app/supabase/migrations/
├── 20240101000001_initial_schema.sql  # 초기 스키마
├── 20240101000002_rls_policies.sql    # RLS 정책
└── 20240101000003_seed_data.sql       # 시드 데이터
```

### 설정 파일
```
smart-farm-app/
├── .env                       # 환경 변수
└── mobile-app/android/
    └── gradle.properties      # Android 빌드 설정
```

## 🔧 현재 기술 스택

- **Frontend**: React Native, Expo, TypeScript
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **IoT**: Tuya SDK, MQTT (로컬)
- **Database**: PostgreSQL with RLS
- **Deployment**: Web (완료), Android (진행 중)

## 🚨 주의사항

### Android 빌드 시
1. **Node.js 경로** 확인: `/Users/seochunwoo/.nvm/versions/node/v20.19.4/bin/node`
2. **Java Runtime** 경로 확인: `/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home`
3. **저장공간** 확인: 최소 5GB 이상 필요
4. **Android Studio**에서 "Sync Project with Gradle Files" 실행 필수

### 웹 앱 실행 시
1. **포트 충돌** 확인: 8081 또는 8082 사용
2. **환경변수** 확인: `.env` 파일 존재 확인
3. **Supabase 연결** 확인: URL과 키가 올바른지 확인

## 📊 완성된 기능들

### ✅ 완전 구현된 기능
1. **메인 화면** - 베드 목록, 팀별 구분, 상태 요약
2. **베드 상세 화면** - 센서 데이터, 디바이스 제어
3. **다단 베드 설정** - 1-4단, 작물명, 재배방식
4. **팀 로그인 시스템** - 팀별 계정 관리
5. **디바이스 인증** - Tuya 계정 연동
6. **타이머 설정** - 주간 스케줄링
7. **Supabase 연동** - 데이터베이스 연결 및 RLS

### 🔄 부분 구현된 기능
1. **실제 Tuya 제어** - 웹에서는 시뮬레이션, Android에서 실제 제어
2. **실시간 데이터** - Supabase Realtime 연동 준비됨
3. **알림 시스템** - 기본 구조만 구현

## 🎯 다음 작업 시 체크포인트

1. **Android Studio** 실행 전 저장공간 확인
2. **Node.js 경로** 설정 확인
3. **Java Runtime** 경로 설정 확인
4. **Gradle 동기화** 실행
5. **에뮬레이터** 실행 상태 확인
6. **실제 Tuya 계정** 준비

## 📝 작업 완료 후 업데이트

작업 완료 후 다음을 업데이트하세요:
1. `작업_기록_2025_09_23.md` - 새로운 작업 내용 추가
2. `smart_farm_build_docs_v_0.md` - 진행 상황 업데이트
3. 이 체크리스트 - 새로운 주의사항 추가

---

**💡 팁**: 작업 시작 전에 항상 이 문서를 읽고 현재 상태를 파악한 후 시작하세요!
