# π“± λ¨λ°”μΌμ•± μμ΅΄μ„± λ¬Έμ  ν•΄κ²° κ°€μ΄λ“

## π“‹ λ¬Έμ  μƒν™©

### λ°μƒν• μ—λ¬λ“¤
1. **Metro HMR ν΄λΌμ΄μ–ΈνΈ μ—λ¬**
   ```
   Module not found: Can't resolve '@expo/metro/metro-runtime/modules/HMRClient'
   ```

2. **Styleq transform-localize-style μ—λ¬**
   ```
   Module not found: Can't resolve 'styleq/transform-localize-style'
   ```

3. **Expo λ²„μ „ μ¶©λ**
   ```
   peer expo@"^49.0.7 || ^50.0.0-0" from @expo/webpack-config@19.0.1
   Found: expo@54.0.10
   ```

4. **κΈ°νƒ€ λ„λ½λ ν¨ν‚¤μ§€λ“¤**
   - `scheduler`, `webidl-conversions`, `punycode`, `buffer`
   - `base64-js`, `ieee754`, `hyphenate-style-name`
   - `css-in-js-utils`, `styleq`

## π”§ ν•΄κ²° κ³Όμ •

### 1λ‹¨κ³„: λ¬Έμ  ν¨ν‚¤μ§€ μ κ±°
```bash
# @expo/webpack-config μ κ±° (SDK 54μ—μ„λ” λ¶ν•„μ”)
npm uninstall @expo/webpack-config

# μ κ±° ν™•μΈ
npm ls @expo/webpack-config
```

### 2λ‹¨κ³„: app.json ν™•μΈ
- `app.json`μ— webpack μ„¤μ •μ΄ μ—†μμ„ ν™•μΈ
- μ¶”κ°€ μμ • λ¶ν•„μ”

### 3λ‹¨κ³„: metro.config.js μƒμ„±
```javascript
// metro.config.js (Expo SDK 54)
const { getDefaultConfig } = require('expo/metro-config');

const config = getDefaultConfig(__dirname);

// pnpm / λ¨λ…Έλ ν¬μ—μ„ μ‹¬λ³Όλ¦­ λ§ν¬ ν•΄μ„
config.resolver.unstable_enableSymlinks = true;
config.resolver.unstable_conditionNames = [
  'require',
  'react-native',
  'browser',
  'import',
];

// HMRClient κ°™μ€ λ„¤μ΄ν‹°λΈ μ „μ© λ¨λ“μ„ μ›Ήμ—μ„ λΉ„μ°κΈ°(μ¤ν…)
config.resolver.alias = {
  ...(config.resolver.alias || {}),
  '@expo/metro/metro-runtime/modules/HMRClient': require.resolve(
    'metro-runtime/src/modules/empty-module.js'
  ),
};

module.exports = config;
```

### 4λ‹¨κ³„: μμ΅΄μ„± μ •λ ¬ λ° ν¨ν‚¤μ§€ μ„¤μΉ
```bash
# Expo SDKμ— λ§μ¶° μ •λ ¬
npx expo install --fix

# Metro κ΄€λ ¨ ν¨ν‚¤μ§€
npm i -D @expo/metro @expo/metro-runtime

# λ„λ½λ ν¨ν‚¤μ§€λ“¤
npm i styleq
npm i -D @types/react@~19.1.10

# react-native-web μ„¤μΉ
npx expo install react-native-web
```

### 5λ‹¨κ³„: μΊμ‹ ν΄λ¦¬μ–΄ ν›„ μ¬μ‹μ‘
```bash
npx expo start --web --clear
```

## π― ν•µμ‹¬ ν•΄κ²° ν¬μΈνΈ

### 1. Metro μ„¤μ • μµμ ν™”
- **μ‹¬λ³Όλ¦­ λ§ν¬ ν•΄μ„** ν™μ„±ν™”λ΅ pnpm λ¨λ…Έλ ν¬ νΈν™μ„± ν™•λ³΄
- **HMRClient μ¤ν…** μ„¤μ •μΌλ΅ μ›Ή ν™κ²½μ—μ„ λ„¤μ΄ν‹°λΈ λ¨λ“ μ—λ¬ λ°©μ§€

### 2. ν¨ν‚¤μ§€ λ²„μ „ μ •λ ¬
- **Expo SDK 54**μ— λ§μ¶° λ¨λ“  μμ΅΄μ„± λ²„μ „ ν†µμΌ
- **@expo/webpack-config** μ κ±° (SDK 54μ—μ„λ” Metro μ‚¬μ©)

### 3. λ„λ½ ν¨ν‚¤μ§€ λ³΄μ™„
- **React Native Web** κ΄€λ ¨ λ¨λ“  μμ΅΄μ„± μ„¤μΉ
- **Buffer, URL μ²λ¦¬** κ΄€λ ¨ polyfill ν¨ν‚¤μ§€ μ„¤μΉ

## π“ κ²°κ³Ό

### ν•΄κ²° μ „
- β **12κ° λΉλ“ μ—λ¬**
- β **Metro HMR ν΄λΌμ΄μ–ΈνΈ** λ¨λ“ μ—†μ
- β **Styleq transform-localize-style** λ¨λ“ μ—†μ
- β **Expo λ²„μ „ μ¶©λ**

### ν•΄κ²° ν›„
- β… **0κ° λΉλ“ μ—λ¬**
- β… **μ •μƒμ μΈ μ•± μ‹¤ν–‰**
- β… **Supabase μ—°κ²° μ„±κ³µ**
- β… **Tuya SDK Mock λ¨λ“ μ‹¤ν–‰**

## π€ μ‹¤ν–‰ κ²°κ³Ό

```
β… Supabase URL: https://kkrcwdybrsppbsufrrdg.supabase.co
β… Supabase Key: μ„¤μ •λ¨
β… Tuya SDK μ΄κΈ°ν™”: {appKey: 'we85jqprtfpm5pkmyr53', ...}
β… Mock Tuya SDK μ΄κΈ°ν™” μ™„λ£
```

## π“ μ£Όμμ‚¬ν•­

### Windows + pnpm λ¨λ…Έλ ν¬ ν™κ²½
- **μ‹¬λ³Όλ¦­ λ§ν¬** λ¬Έμ κ°€ μμ£Ό λ°μƒ
- **metro.config.js**μ—μ„ `unstable_enableSymlinks: true` μ„¤μ • ν•„μ

### Expo SDK 54 λ³€κ²½μ‚¬ν•­
- **@expo/webpack-config** μ‚¬μ© μ¤‘λ‹¨
- **Metro**λ¥Ό μ›Ή λΉλ“μ—λ„ μ‚¬μ©
- **@expo/metro-runtime** ν¨ν‚¤μ§€ ν•„μ”

### κ°λ° ν™κ²½ μ„¤μ •
- **React DevTools** μ„¤μΉ κ¶μ¥
- **VirtualizedList wheel event** κ²½κ³ λ” μ„±λ¥ μµμ ν™”μ© (λ¬΄μ‹ κ°€λ¥)

## π”„ ν–¥ν›„ μ μ§€λ³΄μ

### μƒλ΅μ΄ μμ΅΄μ„± μ¶”κ°€ μ‹
1. `npx expo install --fix` μ‹¤ν–‰
2. `metro.config.js` μ„¤μ • ν™•μΈ
3. μΊμ‹ ν΄λ¦¬μ–΄ ν›„ μ¬μ‹μ‘

### μ—λ¬ λ°μƒ μ‹
1. `node_modules` μ‚­μ  ν›„ μ¬μ„¤μΉ
2. `metro.config.js` μ„¤μ • ν™•μΈ
3. Expo SDK λ²„μ „ νΈν™μ„± ν™•μΈ

---

**μ‘μ„±μΌ**: 2025-09-24  
**ν•΄κ²°μ**: AI Assistant  
**ν™κ²½**: Windows 10, pnpm, Expo SDK 54, React Native Web
