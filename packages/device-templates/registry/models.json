{
  "metadata": {
    "version": "0.1.0",
    "description": "Universal IoT Model Registry v0 - ì¶œê³  ì „ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤€ìˆ˜",
    "safetyLevel": "production-ready",
    "lastUpdated": "2025-10-02T13:51:00Z"
  },
  "sensors": [
    {
      "category": "environment",
      "model": "BME280",
      "label": "BME280 ì˜¨ìŠµì•• (I2C)",
      "iface": "i2c",
      "addresses": ["0x76", "0x77"],
      "libDeps": [
        "adafruit/Adafruit BME280 Library @ ^2.6.8",
        "adafruit/Adafruit Unified Sensor @ ^1.1.9"
      ],
      "pins": { "sda": [21], "scl": [22] },
      "init": "Adafruit_BME280 bme; bool ok=bme.begin({i2cAddr});",
      "read": "float t=bme.readTemperature(); float h=bme.readHumidity(); float p=bme.readPressure()/100.0;",
      "publish": [
        { "key": "temperature", "unit": "C", "expr": "t" },
        { "key": "humidity", "unit": "%", "expr": "h" },
        { "key": "pressure", "unit": "hPa", "expr": "p" }
      ],
      "safety": "I2C í†µì‹  ì•ˆì •ì„±ì„ ìœ„í•´ í’€ì—… ì €í•­ ê¶Œì¥",
      "powerConsumption": 3.6,
      "voltage": "3.3V"
    },
    {
      "category": "environment",
      "model": "BMP280",
      "label": "BMP280 ê¸°ì•• (I2C)",
      "iface": "i2c",
      "addresses": ["0x76", "0x77"],
      "libDeps": [
        "adafruit/Adafruit BMP280 Library @ ^2.6.8",
        "adafruit/Adafruit Unified Sensor @ ^1.1.9"
      ],
      "pins": { "sda": [21], "scl": [22] },
      "init": "Adafruit_BMP280 bmp; bool ok=bmp.begin({i2cAddr});",
      "read": "float p=bmp.readPressure()/100.0; float t=bmp.readTemperature();",
      "publish": [
        { "key": "pressure", "unit": "hPa", "expr": "p" },
        { "key": "temperature", "unit": "C", "expr": "t" }
      ],
      "safety": "I2C í†µì‹  ì•ˆì •ì„±ì„ ìœ„í•´ í’€ì—… ì €í•­ ê¶Œì¥",
      "powerConsumption": 2.7,
      "voltage": "3.3V"
    },
    {
      "category": "temp",
      "model": "DHT22",
      "label": "DHT22 ì˜¨ìŠµ (1-Wire)",
      "iface": "onewire",
      "libDeps": [
        "adafruit/DHT sensor library @ ^1.4.4",
        "adafruit/Adafruit Unified Sensor @ ^1.1.9"
      ],
      "pins": { "data": [27, 26] },
      "init": "DHT dht({dataPin}, DHT22); dht.begin();",
      "read": "float t=dht.readTemperature(); float h=dht.readHumidity();",
      "publish": [
        { "key": "temperature", "unit": "C", "expr": "t" },
        { "key": "humidity", "unit": "%", "expr": "h" }
      ],
      "notes": "4.7kÎ© í’€ì—… ê¶Œì¥",
      "safety": "ìŠµë„ ì¸¡ì • ì •í™•ë„ë¥¼ ìœ„í•´ ë°©ìŠµ ì²˜ë¦¬ ê¶Œì¥",
      "powerConsumption": 2.5,
      "voltage": "3.3V"
    },
    {
      "category": "temp",
      "model": "DS18B20",
      "label": "DS18B20 ë°©ìˆ˜ ì˜¨ë„ (1-Wire)",
      "iface": "onewire",
      "libDeps": [
        "paulstoffregen/OneWire @ ^2.3.7",
        "milesburton/DallasTemperature @ ^3.9.0"
      ],
      "pins": { "data": [27, 26] },
      "init": "OneWire ow({dataPin}); DallasTemperature ds(&ow); ds.begin();",
      "read": "ds.requestTemperatures(); float t=ds.getTempCByIndex(0);",
      "publish": [
        { "key": "temperature", "unit": "C", "expr": "t" }
      ],
      "notes": "4.7kÎ© í’€ì—… í•„ìˆ˜",
      "safety": "ë°©ìˆ˜í˜• ì‚¬ìš© ì‹œ ì¼€ì´ë¸” ì—°ê²°ë¶€ ë°©ìˆ˜ ì²˜ë¦¬ í•„ìˆ˜",
      "powerConsumption": 1.5,
      "voltage": "3.3V"
    },
    {
      "category": "light",
      "model": "BH1750",
      "label": "BH1750 ì¡°ë„ (I2C)",
      "iface": "i2c",
      "addresses": ["0x23", "0x5C"],
      "libDeps": [
        "claws/BH1750 @ ^1.3.0"
      ],
      "pins": { "sda": [21], "scl": [22] },
      "init": "BH1750 lightMeter; bool ok=lightMeter.begin(BH1750::CONTINUOUS_HIGH_RES_MODE);",
      "read": "float lx=lightMeter.readLightLevel();",
      "publish": [
        { "key": "illuminance", "unit": "lx", "expr": "lx" }
      ],
      "safety": "ê´‘ì„¼ì„œ í‘œë©´ ì²­ê²° ìœ ì§€ í•„ìš”",
      "powerConsumption": 0.12,
      "voltage": "3.3V"
    },
    {
      "category": "air",
      "model": "SCD30",
      "label": "SCD30 CO2 (I2C)",
      "iface": "i2c",
      "addresses": ["0x61"],
      "libDeps": [
        "sparkfun/SparkFun SCD30 Arduino Library @ ^1.0.7"
      ],
      "pins": { "sda": [21], "scl": [22] },
      "init": "SCD30 scd30; bool ok=scd30.begin();",
      "read": "if(!scd30.dataAvailable()) return false; float co2=scd30.getCO2(); float t=scd30.getTemperature(); float h=scd30.getHumidity();",
      "publish": [
        { "key": "co2", "unit": "ppm", "expr": "co2" },
        { "key": "temperature", "unit": "C", "expr": "t" },
        { "key": "humidity", "unit": "%", "expr": "h" }
      ],
      "safety": "CO2 ì„¼ì„œëŠ” ì •ê¸°ì ì¸ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ í•„ìš”",
      "powerConsumption": 19,
      "voltage": "3.3V"
    },
    {
      "category": "level",
      "model": "HC-SR04",
      "label": "HC-SR04 ìˆ˜ìœ„/ê±°ë¦¬ (Trig/Echo)",
      "iface": "gpio",
      "libDeps": [],
      "pins": { "trig": [18], "echo": [19] },
      "init": "pinMode({trig}, OUTPUT); pinMode({echo}, INPUT);",
      "read": "digitalWrite({trig}, LOW); delayMicroseconds(2); digitalWrite({trig}, HIGH); delayMicroseconds(10); digitalWrite({trig}, LOW); long d=pulseIn({echo}, HIGH, 30000); float cm=d/58.0;",
      "publish": [
        { "key": "distance", "unit": "cm", "expr": "cm" }
      ],
      "notes": "ë°©ìˆ˜í˜• JSN-SR04T ëŒ€ì²´ ê°€ëŠ¥",
      "safety": "ì´ˆìŒíŒŒ ì„¼ì„œëŠ” ì§„ë™ì— ë¯¼ê°í•˜ë¯€ë¡œ ê³ ì • ê°•í™” í•„ìš”",
      "powerConsumption": 2,
      "voltage": "5V"
    },
    {
      "category": "power",
      "model": "INA219",
      "label": "INA219 ì „ë¥˜/ì „ì•• (I2C)",
      "iface": "i2c",
      "addresses": ["0x40"],
      "libDeps": [
        "adafruit/Adafruit INA219 @ ^1.2.0"
      ],
      "pins": { "sda": [21], "scl": [22] },
      "init": "Adafruit_INA219 ina; bool ok=ina.begin();",
      "read": "float v=ina.getBusVoltage_V(); float mA=ina.getCurrent_mA();",
      "publish": [
        { "key": "voltage", "unit": "V", "expr": "v" },
        { "key": "current", "unit": "mA", "expr": "mA" }
      ],
      "safety": "ê³ ì „ì•• ì¸¡ì • ì‹œ ì ˆì—° ì£¼ì˜, ì…˜íŠ¸ ì €í•­ ì •ê²© í™•ì¸",
      "powerConsumption": 0.7,
      "voltage": "3.3V"
    }
  ],
  "actuators": [
    {
      "category": "lamp",
      "model": "relay_ac_lamp",
      "label": "AC ë¨í”„ (ë¦´ë ˆì´ On/Off)",
      "iface": "gpio",
      "pins": { "control": [26, 25, 33] },
      "libDeps": [],
      "init": "pinMode({control}, OUTPUT); digitalWrite({control}, LOW);",
      "set": "digitalWrite({control}, state?HIGH:LOW);",
      "safety": "âš ï¸ AC ê³ ì „ì•• ìœ„í—˜! ì ˆì—° ë¦´ë ˆì´ ëª¨ë“ˆ ì‚¬ìš© í•„ìˆ˜, ê³µí†µ GND ì—°ê²° ê¸ˆì§€, ì°¨ë‹¨ê¸° ì„¤ì¹˜ ê¶Œì¥",
      "powerConsumption": 50,
      "voltage": "5V",
      "safetyLevel": "HIGH"
    },
    {
      "category": "lamp",
      "model": "pwm_12v_led",
      "label": "12V LED (MOSFET PWM)",
      "iface": "pwm",
      "pins": { "pwm": [16, 17] },
      "libDeps": [],
      "init": "ledcSetup(0, 1000, 8); ledcAttachPin({pwm}, 0); ledcWrite(0,0);",
      "set": "ledcWrite(0, brightness /*0-255*/);",
      "safety": "âš ï¸ ì™¸ë¶€ 12V ì „ì› í•„ìš”, MOSFET ë“œë¼ì´ë²„ ì‚¬ìš©, ê³µí†µ GND ì—°ê²°",
      "powerConsumption": 100,
      "voltage": "12V",
      "safetyLevel": "MEDIUM"
    },
    {
      "category": "lamp",
      "model": "ws2812b",
      "label": "WS2812B/NeoPixel",
      "iface": "neopixel",
      "pins": { "data": [27, 26] },
      "libDeps": [
        "adafruit/Adafruit NeoPixel @ ^1.10.6"
      ],
      "init": "#include <Adafruit_NeoPixel.h> Adafruit_NeoPixel strip(60,{data},NEO_GRB+NEO_KHZ800); void initLamp(){strip.begin(); strip.show();}",
      "set": "strip.fill(strip.Color(r,g,b)); strip.show();",
      "safety": "âš ï¸ 5V ê³ ì „ë¥˜ ì£¼ì˜, ë ˆë²¨ì‹œí”„í„° ê¶Œì¥, ì „ì› ê³µê¸‰ ëŠ¥ë ¥ í™•ì¸",
      "powerConsumption": 60,
      "voltage": "5V",
      "safetyLevel": "MEDIUM"
    },
    {
      "category": "motor",
      "model": "tb6612",
      "label": "TB6612 DC ëª¨í„°",
      "iface": "pwm+dir",
      "pins": { "pwm": [16], "in1": [18], "in2": [19] },
      "libDeps": [],
      "init": "pinMode({in1},OUTPUT); pinMode({in2},OUTPUT); ledcSetup(1,1000,8); ledcAttachPin({pwm},1);",
      "set": "digitalWrite({in1}, dir); digitalWrite({in2}, !dir); ledcWrite(1, speed /*0-255*/);",
      "safety": "âš ï¸ ì™¸ë¶€ ì „ì›/ë“œë¼ì´ë²„ í•„ìˆ˜, ëª¨í„° ì •ê²© ì „ì•• í™•ì¸, ì—­ê¸°ì „ë ¥ ë³´í˜¸ íšŒë¡œ ê¶Œì¥",
      "powerConsumption": 200,
      "voltage": "12V",
      "safetyLevel": "HIGH"
    },
    {
      "category": "relay",
      "model": "ssr",
      "label": "SSR (ë¬´ì ‘ì  ë¦´ë ˆì´)",
      "iface": "gpio",
      "pins": { "control": [26, 25, 33] },
      "libDeps": [],
      "init": "pinMode({control}, OUTPUT); digitalWrite({control}, LOW);",
      "set": "digitalWrite({control}, state?HIGH:LOW);",
      "safety": "âš ï¸ SSR ë°œì—´ ì£¼ì˜, ë°©ì—´íŒ ì„¤ì¹˜ í•„ìˆ˜, ì •ê²© ì „ë¥˜ í™•ì¸, ê³¼ë¶€í•˜ ë³´í˜¸ í•„ìš”",
      "powerConsumption": 30,
      "voltage": "5V",
      "safetyLevel": "HIGH"
    },
    {
      "category": "dimmer",
      "model": "ac_dimmer_triac",
      "label": "AC ë””ë¨¸ (TRIAC + ZCD)",
      "iface": "pwm+zcd",
      "pins": { "pwm": [16], "zcd": [18] },
      "libDeps": [],
      "init": "pinMode({zcd}, INPUT); ledcSetup(2, 100, 8); ledcAttachPin({pwm}, 2);",
      "set": "ledcWrite(2, brightness /*0-255*/);",
      "safety": "ğŸš¨ AC ê³ ì „ì•• ìœ„í—˜! TRIAC ì •ê²© í™•ì¸, ì œë¡œí¬ë¡œì‹± íšŒë¡œ í•„ìˆ˜, ì°¨ë‹¨ê¸° ì„¤ì¹˜ í•„ìˆ˜, ì ˆì—° ì£¼ì˜",
      "powerConsumption": 5,
      "voltage": "5V",
      "safetyLevel": "CRITICAL"
    }
  ],
  "pinSafety": {
    "esp32": {
      "bootstraps": [0, 2, 12, 15],
      "safeDigital": [4, 5, 16, 17, 18, 19, 21, 22, 23, 25, 26, 27, 32, 33],
      "safePWM": [16, 17, 18, 19, 21, 22, 23, 25, 26, 27, 32, 33],
      "safeAnalog": [36, 39, 34, 35, 32, 33],
      "i2c": { "sda": 21, "scl": 22 },
      "uart": { "tx": 1, "rx": 3 }
    }
  },
  "topicRules": {
    "pattern": "terahub/{tenant}/{deviceId}/{kind}/{name}",
    "examples": {
      "sensor": "terahub/demo/esp32-abc123/sensors/temp1",
      "actuator": "terahub/demo/esp32-abc123/actuators/lamp1"
    }
  }
}
