# ğŸŒ± Smart Farm Platform

> í†µí•© ìŠ¤ë§ˆíŠ¸íŒœ ì›ê²© ì œì–´ ë° ëª¨ë‹ˆí„°ë§ í”Œë«í¼

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ìŠ¤ë§ˆíŠ¸íŒœì—ì„œ ì‘ë¬¼ì„ ì¬ë°°í•˜ëŠ” íŒ€ë“¤ì´ ì›ê²©ìœ¼ë¡œ ë² ë“œë¥¼ ì œì–´í•˜ê³  ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆëŠ” **í†µí•© í”Œë«í¼**ì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥
- **ğŸŒ± ìŠ¤ë§ˆíŠ¸ ìŠ¤ìœ„ì¹˜ ë“±ë¡** - Tuya ìŠ¤ë§ˆíŠ¸ ìŠ¤ìœ„ì¹˜ ì´ˆê¸° ì—°ë™ (ëª¨ë°”ì¼ ì•±)
- **ğŸ  ë†ì¥ ê´€ë¦¬** - ë‹¤ì¤‘ ë†ì¥ ë° ë² ë“œ ê´€ë¦¬ ì‹œìŠ¤í…œ (ë†ì¥ì¥/íŒ€ì› ê¶Œí•œ ë¶„ë¦¬)
- **ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§** - ì˜¨ë„, ìŠµë„, ì¡°ë„, EC, pH ì„¼ì„œ ë°ì´í„° ì‹œê°í™”
- **ğŸ”Œ ë””ë°”ì´ìŠ¤ ì œì–´** - Tuya ìŠ¤ë§ˆíŠ¸ ìŠ¤ìœ„ì¹˜ë¥¼ í†µí•œ ì¡°ëª…, íŒ¬, íŒí”„ ì œì–´
- **ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬** - ì‹œìŠ¤í…œ ê´€ë¦¬ì, ë†ì¥ì¥, íŒ€ì› ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
- **ğŸ“± ëª¨ë°”ì¼ ì•±** - React Native + Expo í¬ë¡œìŠ¤ í”Œë«í¼ (ìŠ¤ìœ„ì¹˜ ë“±ë¡ìš©)
- **ğŸŒ ì›¹ ì–´ë“œë¯¼** - Next.js ê¸°ë°˜ ê´€ë¦¬ì/ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ
- **ğŸ¨ í˜„ëŒ€ì  UI/UX** - Glassmorphism ë””ìì¸ í…Œë§ˆ ì ìš©

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **React Native** - í¬ë¡œìŠ¤ í”Œë«í¼ ëª¨ë°”ì¼ ì•±
- **Next.js** - ì›¹ ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ
- **Expo** - ëª¨ë°”ì¼ ê°œë°œ ë° ë¹Œë“œ ë„êµ¬
- **TypeScript** - íƒ€ì… ì•ˆì „ì„±
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§
- **React Navigation** - í™”ë©´ ë„¤ë¹„ê²Œì´ì…˜

### Backend
- **Supabase** - PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- **Supabase Auth** - ì‚¬ìš©ì ì¸ì¦
- **Supabase Realtime** - ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- **Row Level Security (RLS)** - ë°ì´í„° ë³´ì•ˆ
- **Edge Functions** - ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜

### IoT
- **Tuya SDK** - ìŠ¤ë§ˆíŠ¸ ë””ë°”ì´ìŠ¤ ì œì–´
- **MQTT** - ë¡œì»¬ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘
- **Raspberry Pi** - ê²Œì´íŠ¸ì›¨ì´ ì—­í• 
- **Arduino** - ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
smart_on/
â”œâ”€â”€ apps/                      # ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ mobile-app/           # React Native ëª¨ë°”ì¼ ì•± (ìŠ¤ìœ„ì¹˜ ë“±ë¡ìš©)
â”‚   â”‚   â”œâ”€â”€ App.tsx           # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ src/              # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ services/     # Supabase & Tuya ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ android/          # Android ë„¤ì´í‹°ë¸Œ ì½”ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ app/src/main/java/com/velomano/smartfarm/
â”‚   â”‚   â”‚       â”œâ”€â”€ TuyaSDKModule.java      # Tuya SDK ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ
â”‚   â”‚   â”‚       â”œâ”€â”€ TuyaSDKPackage.java     # ëª¨ë“ˆ íŒ¨í‚¤ì§€
â”‚   â”‚   â”‚       â””â”€â”€ MainApplication.java    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”œâ”€â”€ app.json          # Expo ì„¤ì • (í™˜ê²½ë³€ìˆ˜ í¬í•¨)
â”‚   â”‚   â””â”€â”€ package.json      # ì˜ì¡´ì„±
â”‚   â””â”€â”€ web-admin/            # Next.js ì›¹ ì–´ë“œë¯¼ (ê´€ë¦¬ì/ì‚¬ìš©ììš©)
â”‚       â”œâ”€â”€ src/              # ì†ŒìŠ¤ ì½”ë“œ
â”‚       â”‚   â”œâ”€â”€ app/          # Next.js 13+ App Router
â”‚       â”‚   â””â”€â”€ lib/          # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚       â”œâ”€â”€ .env.local        # í™˜ê²½ë³€ìˆ˜ (ë¡œì»¬)
â”‚       â””â”€â”€ package.json      # ì˜ì¡´ì„±
â”œâ”€â”€ packages/                 # ê³µìœ  íŒ¨í‚¤ì§€
â”‚   â””â”€â”€ database/            # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚       â””â”€â”€ supabase/        # Supabase ì„¤ì •
â”œâ”€â”€ docs/                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ 00_README.md         # ë¬¸ì„œ ì¸ë±ìŠ¤
â”‚   â”œâ”€â”€ 01_ENV.md            # í™˜ê²½ë³€ìˆ˜ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ 02_DB_SCHEMA.sql     # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ 03_RLS_POLICIES.sql  # ë³´ì•ˆ ì •ì±…
â”‚   â”œâ”€â”€ 06_API_CONTRACT.md   # API ê³„ì•½
â”‚   â”œâ”€â”€ 07_TUYA_SDK.md       # Tuya SDK ê°€ì´ë“œ
â”‚   â”œâ”€â”€ 12_ACCEPTANCE_CHECKS.md # ìˆ˜ìš©ì„± ì²´í¬
â”‚   â”œâ”€â”€ EXISTING_DB_STRUCTURE.md # ê¸°ì¡´ DB êµ¬ì¡° ë¶„ì„
â”‚   â””â”€â”€ UI_DESIGN_SYSTEM.md  # UI ë””ìì¸ ì‹œìŠ¤í…œ
â”œâ”€â”€ book/                    # Tuya SDK ë° ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ .github/                 # GitHub Actions
â”‚   â””â”€â”€ workflows/           # CI/CD íŒŒì´í”„ë¼ì¸
â”œâ”€â”€ env.example              # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ README.md                # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. í™˜ê²½ ìš”êµ¬ì‚¬í•­
- Node.js 20.x ì´ìƒ
- npm ë˜ëŠ” yarn
- Android Studio (Android ë¹Œë“œìš©)
- Xcode (iOS ë¹Œë“œìš©, macOSë§Œ)

### 2. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone <repository-url>
cd smart-farm-app
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

#### ëª¨ë°”ì¼ ì•±
```bash
cd apps/mobile-app
npm install
```

#### ì›¹ ì–´ë“œë¯¼
```bash
cd apps/web-admin
npm install
```

### 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

#### ëª¨ë°”ì¼ ì•± (app.jsonì— ì„¤ì •ë¨)
```bash
# mobile-app/app.jsonì˜ extra í•„ë“œì— ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŒ
{
  "extra": {
    "supabaseUrl": "https://kkrcwdybrsppbsufrrdg.supabase.co",
    "supabaseAnonKey": "your-anon-key",
    "tuyaAppKey": "your-tuya-app-key",
    "tuyaAppSecret": "your-tuya-app-secret",
    "tuyaRegion": "eu"
  }
}
```

#### ì›¹ ì–´ë“œë¯¼
```bash
cd apps/web-admin
# .env.local íŒŒì¼ ìƒì„± (ì´ë¯¸ ìƒì„±ë¨)
NEXT_PUBLIC_SUPABASE_URL=https://kkrcwdybrsppbsufrrdg.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 5. ì›¹ ì–´ë“œë¯¼ ì‹¤í–‰
```bash
cd apps/web-admin
npm run dev
```

### 6. ëª¨ë°”ì¼ ì•± ì‹¤í–‰

#### ì›¹ ë²„ì „ (ê°œë°œìš©)
```bash
cd apps/mobile-app
npm start
# ë¸Œë¼ìš°ì €ì—ì„œ 'w' í‚¤ë¥¼ ëˆŒëŸ¬ ì›¹ ë²„ì „ ì‹¤í–‰
```

#### Android (ì‹¤ì œ ë””ë°”ì´ìŠ¤ í…ŒìŠ¤íŠ¸ìš©)
```bash
cd apps/mobile-app
npm run android
# Android Studio ì„¤ì¹˜ í•„ìš”
```

#### iOS (macOSë§Œ)
```bash
cd apps/mobile-app
npm run ios
# Xcode ì„¤ì¹˜ í•„ìš”
```

### 7. Tuya SDK ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ë¹Œë“œ (Android)
```bash
cd apps/mobile-app
npx expo run:android
# ë˜ëŠ” Android Studioì—ì„œ ì§ì ‘ ë¹Œë“œ
```

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ ìŠ¤íƒ€ì¼
- **TypeScript** ì‚¬ìš© í•„ìˆ˜
- **í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸** ì‚¬ìš©
- **Hooks** í™œìš©
- **ESLint** ë° **Prettier** ì„¤ì • ì¤€ìˆ˜

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™
```
<íƒ€ì…>: <ì œëª©>

<ë³¸ë¬¸>

<í‘¸í„°>
```

### ë¸Œëœì¹˜ ì „ëµ
- `main` - í”„ë¡œë•ì…˜ ë¸Œëœì¹˜
- `develop` - ê°œë°œ ë¸Œëœì¹˜
- `feature/*` - ê¸°ëŠ¥ ê°œë°œ ë¸Œëœì¹˜
- `hotfix/*` - ê¸´ê¸‰ ìˆ˜ì • ë¸Œëœì¹˜

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ğŸ—„ï¸ ì‹¤ì œ í…Œì´ë¸” êµ¬ì¡° (Supabase)
- `tenants` - íŒ€/ì¡°ì§ ì •ë³´
- `farms` - ë†ì¥ ì •ë³´ (3ê°œ ë†ì¥: 1ë†ì¥, 2ë†ì¥, 3ë†ì¥)
- `beds` - ë² ë“œ ì •ë³´ (6ê°œ ë² ë“œ, ê° ë†ì¥ë³„ 2ê°œì”©)
- `devices` - ë””ë°”ì´ìŠ¤ ì •ë³´ (ì„¼ì„œ ê²Œì´íŠ¸ì›¨ì´ + Tuya ë””ë°”ì´ìŠ¤)
- `sensors` - ì„¼ì„œ ì •ë³´ (ì˜¨ë„, ìŠµë„, EC, pH, ì¡°ë„, ìˆ˜ì˜¨)
- `sensor_readings` - ì„¼ì„œ ë°ì´í„° (ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§)
- `commands` - ì œì–´ ëª…ë ¹
- `rules` - ìë™í™” ê·œì¹™
- `alerts` - ì•Œë¦¼ ì •ë³´
- `users` - ì‚¬ìš©ì ì •ë³´ (ì‹œìŠ¤í…œ ê´€ë¦¬ì, ë†ì¥ì¥, íŒ€ì›)
- `memberships` - ë©¤ë²„ì‹­ ì •ë³´

### ğŸ”— í…Œì´ë¸” ê´€ê³„
```
tenants (1) â†’ farms (3) â†’ devices (N) â†’ sensors (N) â†’ sensor_readings (N)
```

### ğŸ‘¥ ì‚¬ìš©ì ê¶Œí•œ ì²´ê³„
- **ì‹œìŠ¤í…œ ê´€ë¦¬ì**: ëª¨ë“  ë†ì¥ ë° ì‚¬ìš©ì ê´€ë¦¬ ê¶Œí•œ
- **ë†ì¥ì¥**: ìì‹ ì˜ ë†ì¥ ë° íŒ€ì› ê´€ë¦¬ ê¶Œí•œ
- **íŒ€ì›**: ìì‹ ì˜ ë†ì¥ ì •ë³´ ì¡°íšŒ ê¶Œí•œ

### ğŸ“± ëª¨ë°”ì¼ ì•± ì—°ë™
- **ìŠ¤ìœ„ì¹˜ ë“±ë¡**: Tuya ë””ë°”ì´ìŠ¤ ì´ˆê¸° ì„¤ì • ë° ë“±ë¡
- **ë””ë°”ì´ìŠ¤ ì œì–´**: `devices` í…Œì´ë¸”ì˜ `status` JSONB í•„ë“œë¡œ ìƒíƒœ ê´€ë¦¬
- **ì„¼ì„œ ëª¨ë‹ˆí„°ë§**: `sensor_readings` í…Œì´ë¸”ì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° ì¡°íšŒ

## ğŸ” ë³´ì•ˆ

- **Row Level Security (RLS)** ì ìš©
- **íŒ€ë³„ ë°ì´í„° ê²©ë¦¬**
- **JWT í† í°** ê¸°ë°˜ ì¸ì¦
- **í™˜ê²½ë³€ìˆ˜**ë¡œ ë¯¼ê° ì •ë³´ ê´€ë¦¬

## ğŸš€ ë°°í¬

### ì›¹ ì–´ë“œë¯¼
- **Vercel** ë°°í¬: https://web-admin-fsi2tolta-smart-ons-projects.vercel.app
- **ìë™ ë°°í¬** (GitHub Actions)
- **Mock ì¸ì¦** ì‹œìŠ¤í…œ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)

### ëª¨ë°”ì¼ ì•±
- **Google Play Store** (Android)
- **Apple App Store** (iOS)
- **Expo Application Services (EAS)** ë¹Œë“œ

### í†µí•© ë°°í¬
- **GitHub Actions** CI/CD íŒŒì´í”„ë¼ì¸
- **ìë™ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸**
- **ë‹¤ì¤‘ í™˜ê²½ ë°°í¬** (dev, staging, production)

### ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„ì •
- **ì‹œìŠ¤í…œ ê´€ë¦¬ì**: test1@test.com / password
- **1ë†ì¥ì¥**: test2@test.com / password
- **2ë†ì¥ì¥**: test4@test.com / password
- **3ë†ì¥ì¥**: test6@test.com / password
- **íŒ€ì›ë“¤**: test3@test.com, test5@test.com, test7@test.com / password

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ìˆìŠµë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

---

**ğŸ’¡ íŒ**: ê°œë°œ ì‹œì‘ ì „ì— `docs/md/ì‘ì—…_ì‹œì‘_ì „_ì²´í¬ë¦¬ìŠ¤íŠ¸.md`ë¥¼ í™•ì¸í•˜ì„¸ìš”!

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [ğŸ“‹ ë¬¸ì„œ ì¸ë±ìŠ¤](docs/00_README.md)
- [ğŸ”§ í™˜ê²½ë³€ìˆ˜ ê°€ì´ë“œ](docs/01_ENV.md)
- [ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](docs/02_DB_SCHEMA.sql)
- [ğŸ” ë³´ì•ˆ ì •ì±…](docs/03_RLS_POLICIES.sql)
- [ğŸ“¡ API ê³„ì•½](docs/06_API_CONTRACT.md)
- [ğŸ”Œ Tuya SDK ê°€ì´ë“œ](docs/07_TUYA_SDK.md)
- [âœ… ìˆ˜ìš©ì„± ì²´í¬](docs/12_ACCEPTANCE_CHECKS.md)
- [ğŸ—ƒï¸ ê¸°ì¡´ DB êµ¬ì¡° ë¶„ì„](docs/EXISTING_DB_STRUCTURE.md)
- [ğŸ¨ UI ë””ìì¸ ì‹œìŠ¤í…œ](docs/UI_DESIGN_SYSTEM.md)
- [ğŸ“± í”„ë¡œì íŠ¸ ê¸°íšì„œ](book/ìŠ¤ë§ˆíŠ¸íŒœ_ì œì–´_ëª¨ë‹ˆí„°ë§_ì•±_prd_v_0.md)
